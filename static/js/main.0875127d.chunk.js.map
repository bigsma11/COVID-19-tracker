{"version":3,"sources":["components/Card/Card.jsx","components/Cards/Cards.jsx","api/index.js","components/Chart/Chart.jsx","components/CountryPicker/CountryPicker.jsx","App.js","index.js","App.module.css","components/Card/Card.module.css","components/Cards/Cards.module.css","components/Chart/Chart.module.css","components/CountryPicker/CountryPicker.module.css","images/covid.png"],"names":["Card","name","number","updateDate","message","Grid","item","component","MaterialCard","xs","md","className","cx","styles","card","CardContent","Typography","color","gutterBottom","toUpperCase","slice","variant","start","end","duration","separator","Cards","lastUpdate","confirmed","infos","recovered","deaths","messages","Date","toDateString","container","spacing","justify","Object","keys","map","key","index","value","BASIC_URL","useFetchData","url","country","useState","data","setData","isError","setIsError","useEffect","didCancel","a","changeableUrl","axios","response","fetchData","Chart","dailyData","modifiedData","reportDate","total","date","lineChart","labels","datasets","label","borderColor","fill","backgroundColor","barChart","options","legend","display","title","text","CountryPicker","onCountryChange","countriesData","FormControl","formControl","NativeSelect","defaultValue","onChange","e","target","countries","App","setCountry","src","coronaImage","alt","image","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0875127d.chunk.js","sourcesContent":["import React from 'react'\nimport { Grid, Card as MaterialCard, CardContent, Typography } from '@material-ui/core'\nimport CountUp from 'react-countup'\nimport cx from 'classnames'\nimport styles from './Card.module.css'\n\nfunction Card({ name, number, updateDate, message }) {\n  return (\n    <Grid item component={MaterialCard} xs={12} md={3} className={cx(styles.card, styles[name])}>\n      <CardContent>\n        <Typography color=\"textSecondary\" gutterBottom>\n          {name[0].toUpperCase() + name.slice(1)}\n        </Typography>\n        <Typography variant=\"h5\">\n          <CountUp start={0} end={number} duration={2.5} separator=\",\" />\n        </Typography>\n        <Typography color=\"textSecondary\">{updateDate}</Typography>\n        <Typography variant=\"body2\">Number of {message} COVID-19</Typography>\n      </CardContent>\n    </Grid>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport styles from './Cards.module.css'\nimport { Grid } from '@material-ui/core'\nimport Card from '../Card/Card'\n\nfunction Cards({ lastUpdate, confirmed, recovered, deaths }) {\n  const infos = { confirmed, recovered, deaths }\n  const messages = ['active cases of', 'recoveries from', 'deaths caused by']\n  const updateDate = new Date(lastUpdate).toDateString()\n\n  return !confirmed ? (\n    <div>Loading cards data...</div>\n  ) : (\n    <div className={styles.container}>\n      <Grid container spacing={3} justify=\"center\">\n        {Object.keys(infos).map((key, index) => (\n          <Card\n            name={key}\n            number={infos[key].value}\n            key={key}\n            updateDate={updateDate}\n            message={messages[index]}\n          />\n        ))}\n      </Grid>\n    </div>\n  )\n}\n\nexport default Cards\n","import axios from 'axios'\nimport { useState, useEffect } from 'react'\n\nexport const BASIC_URL = 'https://covid19.mathdro.id/api'\n\n// abstract the fetch operation to a custom hook\n\nexport const useFetchData = (url, country) => {\n  const [data, setData] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n    let didCancel = false\n\n    const fetchData = async () => {\n      setIsError(false)\n\n      let changeableUrl = url\n\n      if (country) {\n        changeableUrl = `${url}/countries/${country}`\n      }\n\n      try {\n        const response = await axios(changeableUrl)\n        if (!didCancel) {\n          setData(response.data)\n        }\n      } catch (error) {\n        if (!didCancel) {\n          setIsError(true)\n        }\n      }\n    }\n\n    fetchData()\n\n    return () => {\n      didCancel = true\n    }\n  }, [url, country])\n\n  return [data, isError]\n}\n","import React from 'react'\nimport { useFetchData, BASIC_URL } from '../../api'\nimport { Line, Bar } from 'react-chartjs-2'\nimport styles from './Chart.module.css'\n\nfunction Chart({ data: { confirmed, deaths, recovered }, country }) {\n  const [dailyData, isError] = useFetchData(`${BASIC_URL}/daily`)\n\n  if (!dailyData) return <div>Loading dailyData...</div>\n\n  const modifiedData = dailyData.map(({ confirmed, deaths, reportDate }) => ({\n    confirmed: confirmed.total,\n    deaths: deaths.total,\n    date: reportDate,\n  }))\n\n  const lineChart = (\n    <Line\n      data={{\n        labels: modifiedData.map(({ date }) => date),\n        datasets: [\n          {\n            data: modifiedData.map(({ confirmed }) => confirmed),\n            label: 'Infected',\n            borderColor: '#3333ff',\n            fill: true,\n          },\n          {\n            data: modifiedData.map(({ deaths }) => deaths),\n            label: 'Deaths',\n            borderColor: 'red',\n            backgroundColor: 'rgba(255, 0, 0, 0.5)',\n            fill: true,\n          },\n        ],\n      }}\n    />\n  )\n\n  const barChart = confirmed && (\n    <Bar\n      data={{\n        labels: ['Infected', 'Recovered', 'deaths'],\n        datasets: [\n          {\n            label: 'People',\n            backgroundColor: [\n              'rgba(0, 0, 255, 0.5)',\n              'rgba(0, 255, 0, 0.5)',\n              'rgba(255, 0, 0, 0.5)',\n            ],\n            data: [confirmed.value, recovered.value, deaths.value],\n          },\n        ],\n      }}\n      options={{\n        legend: { display: false },\n        title: { display: true, text: `Current state in ${country}` },\n      }}\n    />\n  )\n\n  return (\n    <>\n      {isError && <div>Something went wrong when fetching daily data</div>}\n      <div className={styles.container}>{country ? barChart : lineChart}</div>\n    </>\n  )\n}\n\nexport default Chart\n","import React from 'react'\nimport { NativeSelect, FormControl } from '@material-ui/core'\nimport styles from './CountryPicker.module.css'\nimport { useFetchData, BASIC_URL } from '../../api'\n\nfunction CountryPicker({ onCountryChange }) {\n  const [countriesData, isError] = useFetchData(`${BASIC_URL}/countries`)\n\n  return (\n    <>\n      {isError && <div>Something went wrong when fetch countries data</div>}\n      {!countriesData ? (\n        <div>Loading countries data...</div>\n      ) : (\n        <FormControl className={styles.formControl}>\n          <NativeSelect defaultValue=\"\" onChange={(e) => onCountryChange(e.target.value)}>\n            <option value=\"\">Global</option>\n            {countriesData.countries.map(({ name }) => (\n              <option key={name} value={name}>\n                {name}\n              </option>\n            ))}\n          </NativeSelect>\n        </FormControl>\n      )}\n    </>\n  )\n}\n\nexport default CountryPicker\n","import React, { useState } from 'react'\nimport styles from './App.module.css'\nimport { Cards, Chart, CountryPicker } from './components'\nimport { useFetchData, BASIC_URL } from './api'\nimport coronaImage from './images/covid.png'\n\nfunction App() {\n  const [country, setCountry] = useState('')\n  const [data, isError] = useFetchData(BASIC_URL, country)\n\n  const handleCountryChange = (country) => {\n    setCountry(country)\n  }\n\n  return (\n    <>\n      {isError && <div>Something went wrong when fetching basic data</div>}\n      {!data ? (\n        <div>Loading basic data...</div>\n      ) : (\n        <div className={styles.container}>\n          <img src={coronaImage} alt=\"covid\" className={styles.image} />\n          <Cards {...data} />\n          <CountryPicker onCountryChange={handleCountryChange} />\n          <Chart data={data} country={country} />\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"image\":\"App_image__3byI1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1eE8R\",\"confirmed\":\"Card_confirmed__19oJa\",\"recovered\":\"Card_recovered__16_In\",\"deaths\":\"Card_deaths__3ViEi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cards_container__3bjn6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Chart_container__1PIOn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"CountryPicker_formControl__2p8f9\"};","module.exports = __webpack_public_path__ + \"static/media/covid.d7265326.png\";"],"sourceRoot":""}